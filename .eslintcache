[{"D:\\Programación\\react-tasks\\src\\index.tsx":"1","D:\\Programación\\react-tasks\\src\\reportWebVitals.ts":"2","D:\\Programación\\react-tasks\\src\\App.tsx":"3","D:\\Programación\\react-tasks\\src\\components\\Task\\Task.tsx":"4","D:\\Programación\\react-tasks\\src\\components\\ListOfTask\\ListOfTask.tsx":"5","D:\\Programación\\react-tasks\\src\\components\\Button\\Button.tsx":"6","D:\\Programación\\react-tasks\\src\\components\\TaskTitle\\TaskTitle.tsx":"7","D:\\Programación\\react-tasks\\src\\components\\Form\\Form.tsx":"8","D:\\Programación\\react-tasks\\src\\components\\Footer\\Footer.tsx":"9","D:\\Programación\\react-tasks\\src\\hooks\\useTasks.ts":"10","D:\\Programación\\react-tasks\\src\\components\\TrashIcon\\TrashIcon.tsx":"11"},{"size":517,"mtime":1628292429279,"results":"12","hashOfConfig":"13"},{"size":440,"mtime":1612216060090,"results":"14","hashOfConfig":"13"},{"size":1940,"mtime":1628453952481,"results":"15","hashOfConfig":"13"},{"size":1016,"mtime":1628690204166,"results":"16","hashOfConfig":"13"},{"size":1000,"mtime":1628272881324,"results":"17","hashOfConfig":"13"},{"size":637,"mtime":1628291461916,"results":"18","hashOfConfig":"13"},{"size":375,"mtime":1628194806638,"results":"19","hashOfConfig":"13"},{"size":1497,"mtime":1628290282994,"results":"20","hashOfConfig":"13"},{"size":378,"mtime":1628203113388,"results":"21","hashOfConfig":"13"},{"size":3228,"mtime":1628453955850,"results":"22","hashOfConfig":"13"},{"size":919,"mtime":1628690172406,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"qwqpof",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Programación\\react-tasks\\src\\index.tsx",[],["48","49"],"D:\\Programación\\react-tasks\\src\\reportWebVitals.ts",[],"D:\\Programación\\react-tasks\\src\\App.tsx",[],"D:\\Programación\\react-tasks\\src\\components\\Task\\Task.tsx",[],"D:\\Programación\\react-tasks\\src\\components\\ListOfTask\\ListOfTask.tsx",[],"D:\\Programación\\react-tasks\\src\\components\\Button\\Button.tsx",[],"D:\\Programación\\react-tasks\\src\\components\\TaskTitle\\TaskTitle.tsx",[],"D:\\Programación\\react-tasks\\src\\components\\Form\\Form.tsx",[],"D:\\Programación\\react-tasks\\src\\components\\Footer\\Footer.tsx",[],"D:\\Programación\\react-tasks\\src\\hooks\\useTasks.ts",["50"],"import { useEffect, useState, useRef } from \"react\";\r\nimport { ITask } from \"../ITask\";\r\n\r\nconst useTasks = () => {\r\n\r\n  const [tasks, setTasks] = useState<ITask[]>([]);\r\n  const [doneTasks, setDoneTasks] = useState<ITask[]>([]);\r\n  const taskInput = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(function () {\r\n    const lsTasks = window.localStorage.getItem('todoTasks')\r\n    const lsDoneTasks = window.localStorage.getItem('doneTasks')\r\n\r\n    const todoTasksToShow = lsTasks ? JSON.parse(lsTasks) : tasks\r\n    const doneTasksToShow = lsDoneTasks  ? JSON.parse(lsDoneTasks) : doneTasks\r\n    \r\n    setTasks(todoTasksToShow)\r\n    setDoneTasks(doneTasksToShow)\r\n  }, [])\r\n\r\n  const addTask = (name: string) => {\r\n    const newTasks: ITask[] = [...tasks, { name, done: false }];\r\n    setTasks(newTasks);\r\n    window.localStorage.setItem('todoTasks', '')\r\n    window.localStorage.setItem('todoTasks', JSON.stringify(newTasks))\r\n  };\r\n\r\n  const deleteTask = (taskIndex: number) => {\r\n    const newTasks: ITask[] = [...tasks];\r\n    newTasks[taskIndex].done = !newTasks[taskIndex].done;\r\n\r\n    //delete task\r\n    const doneTask = newTasks.splice(taskIndex, 1);\r\n    setTasks(newTasks);\r\n    window.localStorage.setItem('todoTasks', '')\r\n    window.localStorage.setItem('todoTasks', JSON.stringify(newTasks))\r\n\r\n    //add done task to list\r\n    const newDoneTasks: ITask[] = [...doneTasks, doneTask[0]];\r\n    setDoneTasks(newDoneTasks);\r\n    window.localStorage.setItem('doneTasks', '')\r\n    window.localStorage.setItem('doneTasks', JSON.stringify(newDoneTasks))\r\n\r\n    taskInput.current?.focus();\r\n  };\r\n\r\n  const retrieveTask = (taskIndex: number) => { //Change done task to undone\r\n    \r\n    const newDoneTasks: ITask[] = [...doneTasks];\r\n    newDoneTasks[taskIndex].done = !newDoneTasks[taskIndex].done;\r\n\r\n    //delete task from done list\r\n    const retrievedTask = newDoneTasks.splice(taskIndex, 1);\r\n    setDoneTasks(newDoneTasks);\r\n    window.localStorage.setItem('doneTasks', '')\r\n    window.localStorage.setItem('doneTasks', JSON.stringify(newDoneTasks))\r\n\r\n    //add new task to list\r\n    const newTasks: ITask[] = [...tasks, retrievedTask[0]];\r\n    setTasks(newTasks);\r\n    window.localStorage.setItem('todoTasks', '')\r\n    window.localStorage.setItem('todoTasks', JSON.stringify(newTasks))\r\n\r\n    taskInput.current?.focus();\r\n  };\r\n\r\n  const removeTask = (taskIndex: number, isDone: boolean) => {\r\n    console.log(taskIndex, isDone);\r\n\r\n    if(!isDone) {\r\n      const newTasks: ITask[] = [...tasks];\r\n\r\n      const deletedTask = newTasks.splice(taskIndex, 1) \r\n      console.log(deletedTask);\r\n\r\n      setTasks(newTasks);\r\n      window.localStorage.setItem('todoTasks', '')\r\n      window.localStorage.setItem('todoTasks', JSON.stringify(newTasks))\r\n\r\n      return\r\n    }\r\n    const newDoneTasks: ITask[] = [...doneTasks]\r\n\r\n    const deletedTask = newDoneTasks.splice(taskIndex, 1)\r\n    console.log(deletedTask);\r\n    \r\n\r\n    setDoneTasks(newDoneTasks);\r\n    window.localStorage.setItem('doneTasks', '')\r\n    window.localStorage.setItem('doneTasks', JSON.stringify(newDoneTasks))\r\n    \r\n    return\r\n  }\r\n\r\n  return {tasks, doneTasks, addTask, deleteTask, retrieveTask, removeTask, taskInput}\r\n}\r\n\r\nexport default useTasks","D:\\Programación\\react-tasks\\src\\components\\TrashIcon\\TrashIcon.tsx",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":19,"column":6,"nodeType":"57","endLine":19,"endColumn":8,"suggestions":"58"},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'doneTasks' and 'tasks'. Either include them or remove the dependency array.","ArrayExpression",["61"],"no-global-assign","no-unsafe-negation",{"desc":"62","fix":"63"},"Update the dependencies array to be: [doneTasks, tasks]",{"range":"64","text":"65"},[667,669],"[doneTasks, tasks]"]